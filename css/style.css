:root{
  --accent:#2b6cb0;
  --bg-overlay: rgba(0,0,0,0.45);
  --card-bg: rgba(255,255,255,0.95);
  --max-width:1100px;
  --radius:10px;
  /* distance from top of page to the lower edge of the top controls (banner + 4 buttons)
     adjust this value if you change .top-banner or .buttons positioning/size */
  --top-controls-height: 140px;
}

*{box-sizing:border-box}
html,body,#app{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;background-color:#EFEEEE}
.bg{position:fixed;inset:0;background-size:cover;background-position:center;filter:brightness(0.6)}

.bg-triangle {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 20%;
  z-index: 1;
}

.top-banner {
  position: fixed;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 25%;
  z-index: 5;
}

/* Gray banner: full width, top at 0, extends slightly below the nav area */
#gray-banner{
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  width: 100%;
  /* extended by 20% */
  height: calc(96px + 2.4vh);
  background-color: #B3B3B3;
  z-index: 3;
  pointer-events: none;
}

/* Biter data wrapper: background extends 5% wider on each side than the text
   Text width = 65vw, background width = 75vw (5% each side) */
.biter-wrapper{
  width:75vw;
  max-width:1200px;
  margin:18px auto;
  display:flex;
  justify-content:center;
  background: rgba(255,255,255,0.4);
  padding: 10px 0; /* vertical padding around the inner text */
  border-radius:8px;
}
.biter-data{
  width:65vw; /* limit text to 65% of viewport width */
  max-width:1000px;
  background: transparent;
  padding:12px 18px;
  box-sizing:border-box;
}

/* center titles and section headings inside biter-data */
.biter-data h2, .biter-data h3, .biter-data h4, .biter-data .biter-section-name, .biter-data .biter-title {
  text-align: center;
}

/* also center the view header titles for the generated image views */
#bug-image .view-header h2, #animal-image .view-header h2, #plant-image .view-header h2 {
  text-align: center;
}
.img-btn {
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.img-btn:hover img {
  transform: scale(1.1);
  transition: transform 0.2s ease;
}
.overlay{position:relative;z-index:2;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff;padding:40px;text-align:center}
.title{font-size:2.4rem;margin-bottom:20px;letter-spacing:0.02em}
.search-container{width:65vw;max-width:1000px;margin:12px auto;display:flex;flex-direction:column;align-items:center;gap:8px}
.search-box{width:100%;display:flex;align-items:center;background:#fff;border-radius:999px;padding:8px 12px;box-shadow:0 6px 18px rgba(0,0,0,0.08)}
.search-box input[type="search"]{flex:1;border:0;outline:none;padding:10px;font-size:1.1rem;border-radius:999px}
.search-btn{background:transparent;border:0;padding:6px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer}
.search-controls{width:100%;display:flex;justify-content:center;align-items:center;gap:8px}
.search-controls select{width:220px;padding:8px;border-radius:8px;border:1px solid #ccc}
.search-label{color:#fff;font-weight:600;margin-right:6px}

/* Search result grid */
.search-grid{max-width:var(--max-width);margin:0 auto;padding:6px}
.search-card{background:var(--card-bg);border-radius:8px;overflow:hidden;box-shadow:0 6px 18px rgba(0,0,0,0.06);}
.search-card img{width:100%;height:140px;object-fit:cover;display:block}
.search-card .result-name{padding:8px;color:#222;font-weight:600}
@media (max-width:900px){ .search-card{ width:45%; } }
@media (max-width:600px){ .search-card{ width:90%; } }
.buttons{
  position: fixed;
  top: 80px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 5px;
  justify-content: center;
  align-items: center;
  z-index: 99999; /* keep nav above all content */
  pointer-events: auto;
}

/* If JS or other code attempts to hide the nav via the hidden attribute or aria-hidden,
   keep it visible. This overrides other [hidden] rules. */
nav.buttons[hidden], nav.buttons[aria-hidden="true"]{
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
}
.big-btn{background:linear-gradient(180deg,var(--accent),#234b7a);color:white;border:none;padding:18px;border-radius:12px;font-size:1rem;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,0.25);display: flex;align-items: center;justify-content: center}
.small{padding:10px 14px;border-radius:8px;background:#eee;border:0}
.view{display:none;padding:20px;padding-top:calc(var(--top-controls-height) + 8px)}
.view.active{display:block}
.view-header{display:flex;align-items:center;justify-content:center;margin-bottom:12px}
.view-header h2{margin:0;text-align:center}

/* recognition frame: 4:3 ratio, width = 50% of viewport width */
.rec-frame{
  /* original 50vw reduced by 20% => 40vw to shrink by 20% */
  width:40vw;
  max-width:90%;
  height:calc(40vw * 3 / 4);
  max-height:70vh;
  background:#cccccc;
  border:4px solid #262626;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  box-sizing:border-box;
  margin:12px auto;
}
.rec-frame .preview img{width:100%;height:100%;object-fit:contain;display:block}
.preview{width:100%;height:100%;display:flex;align-items:center;justify-content:center}

/* controls centered below the title */
.rec-controls{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;margin:10px 0}

/* submit button fixed at bottom when on recognition view */
.rec-submit{position:fixed;bottom:18px;left:50%;transform:translateX(-50%);z-index:10050;padding:10px 18px;border-radius:8px}
.nav-back{background:transparent;border:none;cursor:pointer;color:var(--accent)}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px;max-width:var(--max-width);margin:0 auto}
.card{background:white;border-radius:12px;overflow:hidden;box-shadow:0 6px 18px rgba(0,0,0,0.08);cursor:pointer}
.card img{width:100%;height:140px;object-fit:cover;display:block;border-radius:0;box-shadow:none;background:transparent}
.card .meta{padding:10px}
.detail{max-width:900px;margin:0 auto;background:var(--card-bg);padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
.hidden{display:none}
.preview img{max-width:90%;height:auto;border-radius:10px;margin-top:12px}
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:18px;background:#222;color:#fff;padding:8px 12px;border-radius:8px}

/* Browse view center buttons */
.browse-center{display:flex;gap:14px;justify-content:center;align-items:center;margin:18px 0}
.browse-btn{display:flex;flex-direction:column;align-items:center;border:0;background:transparent;cursor:pointer}
.browse-btn img{height:240px;width:auto;border-radius:0;box-shadow:none;background:transparent}
.browse-btn .btn-label{margin-top:8px;color:#333;font-weight:600}
.placeholder{padding:18px;color:#666;text-align:center}

/* bugs table layout: images row then filename row repeated */
.bugs-table{width:100%;border-collapse:collapse;margin:8px 0}
.bugs-table td{width:25%;vertical-align:top;padding:8px;text-align:center}
.bugs-table td img{max-width:100%;border-radius:0;box-shadow:none}
.bugs-table td div{color:#333;font-size:0.95rem;line-height:1.2}

/* Biter detail rendering: section/title/description sizes */
.biter-data{max-width:900px;margin:16px auto;padding:12px;background:var(--card-bg);border-radius:8px}
.biter-keyword{font-size:1.2rem;margin:6px 0;color:var(--accent)}
.biter-section-name{font-size:1.1rem;font-weight:700;margin-top:10px;margin-bottom:6px;color:#222}
.biter-title{font-size:0.98rem;font-weight:600;margin:6px 0;color:#333}
.biter-desc{font-size:0.9rem;color:#444;margin-bottom:8px}
.biter-desc p{margin:6px 0}

/* Bug detail: constrain featured image and center description */
#bug-image{max-width:900px;margin:12px auto;padding:12px;text-align:center}
#bug-image img.featured, #animal-image img.featured, #plant-image img.featured {
  max-width:50%;
  height:auto;
  border-radius:0;
  box-shadow:none;
}
.bug-desc{font-size:0.95rem;color:#333;margin:10px auto;max-width:60%;text-align:center}